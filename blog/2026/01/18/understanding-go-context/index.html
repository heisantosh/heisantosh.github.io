<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.154.5"><title>Understanding Go Context - Delay Line Memory</title><meta name=description content="The context package in Go is one of those features that seems simple at first but reveals its depth as you work with it more. It&rsquo;s become essential for …"><meta name=author content="Santosh Heigrujam"><meta property="og:title" content="Understanding Go Context"><meta property="og:description" content="The context package in Go is one of those features that seems simple at first but reveals its depth as you work with it more. It&rsquo;s become essential for …"><meta property="og:type" content="article"><meta property="og:url" content="https://heisantosh.github.io/blog/2026/01/18/understanding-go-context/"><link rel=icon href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/style.css><script>(function(){var e=localStorage.getItem("theme");e||(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme",e)})()</script></head><body><header class=site-header><h1 class=site-title><a href=https://heisantosh.github.io/>Delay Line Memory</a></h1><nav class=site-nav><a href=/about/>about</a>
<a href=/projects/>projects</a>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode" title="Toggle dark mode">
<svg class="lamp-on" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3 5 7h14l-7-4z"/><path d="M12 2v1"/><path d="M5 7l2 11h10l2-11"/><path d="M12 18v4"/><path d="M9 22h6"/><circle cx="12" cy="13" r="3" fill="currentColor" stroke="none" opacity=".8"/><path d="M12 10V9"/><path d="M12 16v1"/><path d="M9 13H8"/><path d="M15 13h1"/><path d="M10 11l-1-1"/><path d="M14 11l1-1"/><path d="M10 15l-1 1"/><path d="M14 15l1 1"/></svg>
<svg class="lamp-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3 5 7h14l-7-4z"/><path d="M12 2v1"/><path d="M5 7l2 11h10l2-11"/><path d="M12 18v4"/><path d="M9 22h6"/><circle cx="12" cy="13" r="2"/></svg></button></nav></header><script>function toggleTheme(){var e=document.documentElement,n=e.getAttribute("data-theme"),t=n==="dark"?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t)}(function(){var t,e=document.querySelector(".title-symbol");e&&e.getAttribute("data-mode")==="random"&&(t=["λ","⊕","¬","▮","Δ","⬚","◊","»"],e.textContent=t[Math.floor(Math.random()*t.length)])})()</script><main class=site-main><article class=post><header class=post-header><h1 class=post-title>Understanding Go Context</h1><div class=post-meta><time datetime=2026-01-18>Jan 18, 2026</time>
<span class=post-tags><a href=/tags/go/ class=post-tag>go</a>
<a href=/tags/concurrency/ class=post-tag>concurrency</a>
<a href=/tags/programming/ class=post-tag>programming</a>
</span><span class=read-time>2 min read</span></div></header><div class=post-content><p>The <code>context</code> package in Go is one of those features that seems simple at first but reveals its depth as you work with it more. It&rsquo;s become essential for writing robust, concurrent Go programs.</p><h2 id=what-problem-does-context-solve>What Problem Does Context Solve?</h2><p>When you&rsquo;re building services, you often need to:</p><ol><li><strong>Cancel operations</strong> when a request times out</li><li><strong>Pass request-scoped values</strong> through your call chain</li><li><strong>Set deadlines</strong> for operations</li></ol><p>Before context, developers passed around cancellation channels and deadline values manually. Context standardizes this.</p><h2 id=the-basics>The Basics</h2><p>Here&rsquo;s a simple example of context in action:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>fetchData</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span><span class=w> </span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nf>NewRequestWithContext</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span><span class=w> </span><span class=s>&#34;GET&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;https://api.example.com/data&#34;</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>resp</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nf>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>resp</span><span class=p>.</span><span class=nx>Body</span><span class=p>.</span><span class=nf>Close</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>io</span><span class=p>.</span><span class=nf>ReadAll</span><span class=p>(</span><span class=nx>resp</span><span class=p>.</span><span class=nx>Body</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>The request will automatically be cancelled if the context is cancelled.</p><h2 id=context-patterns-i-use>Context Patterns I Use</h2><h3 id=always-pass-context-first>Always Pass Context First</h3><p>By convention, context is always the first parameter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=nf>ProcessOrder</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span><span class=w> </span><span class=nx>orderID</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=kt>error</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=dont-store-context-in-structs>Don&rsquo;t Store Context in Structs</h3><p>Context should flow through your program, not be stored:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// Bad</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nx>Server</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>// Good</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=o>*</span><span class=nx>Server</span><span class=p>)</span><span class=w> </span><span class=nf>HandleRequest</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=use-withtimeout-for-external-calls>Use WithTimeout for External Calls</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ctx</span><span class=p>,</span><span class=w> </span><span class=nx>cancel</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nf>WithTimeout</span><span class=p>(</span><span class=nx>parentCtx</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=o>*</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>defer</span><span class=w> </span><span class=nf>cancel</span><span class=p>()</span><span class=w> </span><span class=c1>// Always defer cancel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nx>result</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>externalService</span><span class=p>.</span><span class=nf>Call</span><span class=p>(</span><span class=nx>ctx</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h2 id=when-context-gets-cancelled>When Context Gets Cancelled</h2><p>Understanding cancellation is crucial. When a context is cancelled:</p><ol><li><code>ctx.Done()</code> channel closes</li><li><code>ctx.Err()</code> returns the reason (cancelled or deadline exceeded)</li><li>All derived contexts are also cancelled</li></ol><p>This cascading behavior is what makes context so powerful for managing complex request lifecycles.</p><h2 id=conclusion>Conclusion</h2><p>Context is deceptively simple but incredibly useful. Start with the basics: pass it through your functions, use it for timeouts, and respect cancellation. As your systems grow, you&rsquo;ll appreciate having this standardized approach to request lifecycle management.</p></div></article></main><footer class=site-footer><div class=footer-icon><a href=/index.xml title="RSS Feed"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><div class=footer-copyright>&copy; 2026 Santosh Heigrujam</div></footer></body></html>